{"ast":null,"code":"export default {\n  name: 'OrderDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    isEdit: {\n      type: Boolean,\n      default: false\n    },\n    orderData: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      dialogVisible: false,\n      formData: {\n        type: 'temp',\n        content: '',\n        startTime: '',\n        endTime: '',\n        frequency: '',\n        remarks: ''\n      },\n      rules: {\n        type: [{\n          required: true,\n          message: '请选择医嘱类型',\n          trigger: 'change'\n        }],\n        content: [{\n          required: true,\n          message: '请输入医嘱内容',\n          trigger: 'blur'\n        }],\n        startTime: [{\n          required: true,\n          message: '请选择开始时间',\n          trigger: 'change'\n        }],\n        frequency: [{\n          required: true,\n          message: '请选择执行频率',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  watch: {\n    visible(val) {\n      this.dialogVisible = val;\n      if (val && this.isEdit) {\n        this.initFormData();\n      }\n    },\n    dialogVisible(val) {\n      if (!val) {\n        this.$emit('update:visible', false);\n      }\n    }\n  },\n  methods: {\n    initFormData() {\n      this.formData = {\n        ...this.orderData\n      };\n    },\n    handleClose() {\n      this.$refs.orderForm.resetFields();\n      this.dialogVisible = false;\n    },\n    handleSubmit() {\n      this.$refs.orderForm.validate(valid => {\n        if (valid) {\n          this.$emit('submit', {\n            ...this.formData\n          });\n          this.handleClose();\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","props","visible","type","Boolean","default","isEdit","orderData","Object","data","dialogVisible","formData","content","startTime","endTime","frequency","remarks","rules","required","message","trigger","watch","val","initFormData","$emit","methods","handleClose","$refs","orderForm","resetFields","handleSubmit","validate","valid"],"sources":["src/components/OrderDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"isEdit ? '编辑医嘱' : '新增医嘱'\"\n    :visible.sync=\"dialogVisible\"\n    width=\"60%\"\n    @close=\"handleClose\"\n  >\n    <el-form :model=\"formData\" :rules=\"rules\" ref=\"orderForm\" label-width=\"100px\">\n      <el-form-item label=\"医嘱类型\" prop=\"type\">\n        <el-radio-group v-model=\"formData.type\">\n          <el-radio label=\"temp\">临时医嘱</el-radio>\n          <el-radio label=\"long\">长期医嘱</el-radio>\n        </el-radio-group>\n      </el-form-item>\n\n      <el-form-item label=\"医嘱内容\" prop=\"content\">\n        <el-input\n          type=\"textarea\"\n          v-model=\"formData.content\"\n          :rows=\"3\"\n          placeholder=\"请输入医嘱内容\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"开始时间\" prop=\"startTime\">\n        <el-date-picker\n          v-model=\"formData.startTime\"\n          type=\"datetime\"\n          placeholder=\"选择开始时间\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n        ></el-date-picker>\n      </el-form-item>\n\n      <el-form-item label=\"结束时间\" prop=\"endTime\" v-if=\"formData.type === 'long'\">\n        <el-date-picker\n          v-model=\"formData.endTime\"\n          type=\"datetime\"\n          placeholder=\"选择结束时间\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n        ></el-date-picker>\n      </el-form-item>\n\n      <el-form-item label=\"执行频率\" prop=\"frequency\">\n        <el-select v-model=\"formData.frequency\" placeholder=\"请选择执行频率\">\n          <el-option label=\"每天一次\" value=\"qd\"></el-option>\n          <el-option label=\"每天两次\" value=\"bid\"></el-option>\n          <el-option label=\"每天三次\" value=\"tid\"></el-option>\n          <el-option label=\"每天四次\" value=\"qid\"></el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item label=\"备注\" prop=\"remarks\">\n        <el-input\n          type=\"textarea\"\n          v-model=\"formData.remarks\"\n          :rows=\"2\"\n          placeholder=\"请输入备注信息\"\n        ></el-input>\n      </el-form-item>\n    </el-form>\n\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"handleClose\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit\">确 定</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nexport default {\n  name: 'OrderDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    isEdit: {\n      type: Boolean,\n      default: false\n    },\n    orderData: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      dialogVisible: false,\n      formData: {\n        type: 'temp',\n        content: '',\n        startTime: '',\n        endTime: '',\n        frequency: '',\n        remarks: ''\n      },\n      rules: {\n        type: [{ required: true, message: '请选择医嘱类型', trigger: 'change' }],\n        content: [{ required: true, message: '请输入医嘱内容', trigger: 'blur' }],\n        startTime: [{ required: true, message: '请选择开始时间', trigger: 'change' }],\n        frequency: [{ required: true, message: '请选择执行频率', trigger: 'change' }]\n      }\n    }\n  },\n  watch: {\n    visible(val) {\n      this.dialogVisible = val\n      if (val && this.isEdit) {\n        this.initFormData()\n      }\n    },\n    dialogVisible(val) {\n      if (!val) {\n        this.$emit('update:visible', false)\n      }\n    }\n  },\n  methods: {\n    initFormData() {\n      this.formData = { ...this.orderData }\n    },\n    handleClose() {\n      this.$refs.orderForm.resetFields()\n      this.dialogVisible = false\n    },\n    handleSubmit() {\n      this.$refs.orderForm.validate(valid => {\n        if (valid) {\n          this.$emit('submit', { ...this.formData })\n          this.handleClose()\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-dialog {\n  .el-form {\n    padding: 20px;\n  }\n\n  .el-form-item {\n    margin-bottom: 20px;\n  }\n\n  .el-input,\n  .el-select,\n  .el-date-picker {\n    width: 100%;\n  }\n\n  .dialog-footer {\n    text-align: right;\n    padding: 20px;\n    border-top: 1px solid #e8ecef;\n  }\n}\n</style> "],"mappings":"AAqEA;EACAA,IAAA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,MAAA;MACAH,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAE,SAAA;MACAJ,IAAA,EAAAK,MAAA;MACAH,OAAA,EAAAA,CAAA;IACA;EACA;EACAI,KAAA;IACA;MACAC,aAAA;MACAC,QAAA;QACAR,IAAA;QACAS,OAAA;QACAC,SAAA;QACAC,OAAA;QACAC,SAAA;QACAC,OAAA;MACA;MACAC,KAAA;QACAd,IAAA;UAAAe,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAR,OAAA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAP,SAAA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAL,SAAA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;IACA;EACA;EACAC,KAAA;IACAnB,QAAAoB,GAAA;MACA,KAAAZ,aAAA,GAAAY,GAAA;MACA,IAAAA,GAAA,SAAAhB,MAAA;QACA,KAAAiB,YAAA;MACA;IACA;IACAb,cAAAY,GAAA;MACA,KAAAA,GAAA;QACA,KAAAE,KAAA;MACA;IACA;EACA;EACAC,OAAA;IACAF,aAAA;MACA,KAAAZ,QAAA;QAAA,QAAAJ;MAAA;IACA;IACAmB,YAAA;MACA,KAAAC,KAAA,CAAAC,SAAA,CAAAC,WAAA;MACA,KAAAnB,aAAA;IACA;IACAoB,aAAA;MACA,KAAAH,KAAA,CAAAC,SAAA,CAAAG,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAAR,KAAA;YAAA,QAAAb;UAAA;UACA,KAAAe,WAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}