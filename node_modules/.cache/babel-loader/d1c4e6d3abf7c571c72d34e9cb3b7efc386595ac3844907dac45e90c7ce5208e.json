{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport request from '@/utils/request';\n\n// 获取入院评估列表\nexport function getAdmissionList(params) {\n  return request({\n    url: '/admission-assessment/list',\n    method: 'get',\n    params,\n    transformResponse: [function (data) {\n      const response = JSON.parse(data);\n      if (response.code === 200 && response.data && response.data.records) {\n        // 确保每条记录都有正确的assessment_id\n        response.data.records = response.data.records.map(record => ({\n          ...record,\n          assessment_id: record.assessment_id || record.id\n        }));\n      }\n      return response;\n    }]\n  });\n}\n\n// 获取健康评估详情\nexport function getHealthAssessmentDetail(assessmentId) {\n  return request({\n    url: '/health-assessment/detail',\n    method: 'get',\n    params: {\n      assessment_id: assessmentId\n    }\n  });\n}\n\n// 提交健康评估\nexport function submitHealthAssessment(assessmentId, data) {\n  return request({\n    url: '/health-assessment/submit',\n    method: 'post',\n    params: {\n      assessment_id: assessmentId\n    },\n    data\n  });\n}\n\n// 获取照护评估详情\nexport function getCareAssessmentDetail(assessmentId) {\n  return request({\n    url: '/care-assessment/detail',\n    method: 'get',\n    params: {\n      assessment_id: assessmentId\n    }\n  });\n}\n\n// 提交照护评估\nexport function submitCareAssessment(assessmentId, data) {\n  return request({\n    url: '/care-assessment/submit',\n    method: 'post',\n    params: {\n      assessment_id: assessmentId\n    },\n    data\n  });\n}\n\n// 上传检查报告\nexport function uploadMedicalReport(assessmentId, reportType, file) {\n  const formData = new FormData();\n  formData.append('file', file);\n  return request({\n    url: '/medical-report/upload',\n    method: 'post',\n    params: {\n      assessment_id: assessmentId,\n      report_type: reportType\n    },\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n}","map":{"version":3,"names":["request","getAdmissionList","params","url","method","transformResponse","data","response","JSON","parse","code","records","map","record","assessment_id","id","getHealthAssessmentDetail","assessmentId","submitHealthAssessment","getCareAssessmentDetail","submitCareAssessment","uploadMedicalReport","reportType","file","formData","FormData","append","report_type","headers"],"sources":["/Users/seaocean/projects/test1/hospital/src/api/admission.js"],"sourcesContent":["import request from '@/utils/request'\n\n// 获取入院评估列表\nexport function getAdmissionList(params) {\n    return request({\n        url: '/admission-assessment/list',\n        method: 'get',\n        params,\n        transformResponse: [function (data) {\n            const response = JSON.parse(data)\n            if (response.code === 200 && response.data && response.data.records) {\n                // 确保每条记录都有正确的assessment_id\n                response.data.records = response.data.records.map(record => ({\n                    ...record,\n                    assessment_id: record.assessment_id || record.id\n                }))\n            }\n            return response\n        }]\n    })\n}\n\n// 获取健康评估详情\nexport function getHealthAssessmentDetail(assessmentId) {\n    return request({\n        url: '/health-assessment/detail',\n        method: 'get',\n        params: { assessment_id: assessmentId }\n    })\n}\n\n// 提交健康评估\nexport function submitHealthAssessment(assessmentId, data) {\n    return request({\n        url: '/health-assessment/submit',\n        method: 'post',\n        params: { assessment_id: assessmentId },\n        data\n    })\n}\n\n// 获取照护评估详情\nexport function getCareAssessmentDetail(assessmentId) {\n    return request({\n        url: '/care-assessment/detail',\n        method: 'get',\n        params: { assessment_id: assessmentId }\n    })\n}\n\n// 提交照护评估\nexport function submitCareAssessment(assessmentId, data) {\n    return request({\n        url: '/care-assessment/submit',\n        method: 'post',\n        params: { assessment_id: assessmentId },\n        data\n    })\n}\n\n// 上传检查报告\nexport function uploadMedicalReport(assessmentId, reportType, file) {\n    const formData = new FormData()\n    formData.append('file', file)\n    return request({\n        url: '/medical-report/upload',\n        method: 'post',\n        params: {\n            assessment_id: assessmentId,\n            report_type: reportType\n        },\n        data: formData,\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    })\n} "],"mappings":";;AAAA,OAAOA,OAAO,MAAM,iBAAiB;;AAErC;AACA,OAAO,SAASC,gBAAgBA,CAACC,MAAM,EAAE;EACrC,OAAOF,OAAO,CAAC;IACXG,GAAG,EAAE,4BAA4B;IACjCC,MAAM,EAAE,KAAK;IACbF,MAAM;IACNG,iBAAiB,EAAE,CAAC,UAAUC,IAAI,EAAE;MAChC,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;MACjC,IAAIC,QAAQ,CAACG,IAAI,KAAK,GAAG,IAAIH,QAAQ,CAACD,IAAI,IAAIC,QAAQ,CAACD,IAAI,CAACK,OAAO,EAAE;QACjE;QACAJ,QAAQ,CAACD,IAAI,CAACK,OAAO,GAAGJ,QAAQ,CAACD,IAAI,CAACK,OAAO,CAACC,GAAG,CAACC,MAAM,KAAK;UACzD,GAAGA,MAAM;UACTC,aAAa,EAAED,MAAM,CAACC,aAAa,IAAID,MAAM,CAACE;QAClD,CAAC,CAAC,CAAC;MACP;MACA,OAAOR,QAAQ;IACnB,CAAC;EACL,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASS,yBAAyBA,CAACC,YAAY,EAAE;EACpD,OAAOjB,OAAO,CAAC;IACXG,GAAG,EAAE,2BAA2B;IAChCC,MAAM,EAAE,KAAK;IACbF,MAAM,EAAE;MAAEY,aAAa,EAAEG;IAAa;EAC1C,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASC,sBAAsBA,CAACD,YAAY,EAAEX,IAAI,EAAE;EACvD,OAAON,OAAO,CAAC;IACXG,GAAG,EAAE,2BAA2B;IAChCC,MAAM,EAAE,MAAM;IACdF,MAAM,EAAE;MAAEY,aAAa,EAAEG;IAAa,CAAC;IACvCX;EACJ,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASa,uBAAuBA,CAACF,YAAY,EAAE;EAClD,OAAOjB,OAAO,CAAC;IACXG,GAAG,EAAE,yBAAyB;IAC9BC,MAAM,EAAE,KAAK;IACbF,MAAM,EAAE;MAAEY,aAAa,EAAEG;IAAa;EAC1C,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASG,oBAAoBA,CAACH,YAAY,EAAEX,IAAI,EAAE;EACrD,OAAON,OAAO,CAAC;IACXG,GAAG,EAAE,yBAAyB;IAC9BC,MAAM,EAAE,MAAM;IACdF,MAAM,EAAE;MAAEY,aAAa,EAAEG;IAAa,CAAC;IACvCX;EACJ,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASe,mBAAmBA,CAACJ,YAAY,EAAEK,UAAU,EAAEC,IAAI,EAAE;EAChE,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAC7B,OAAOvB,OAAO,CAAC;IACXG,GAAG,EAAE,wBAAwB;IAC7BC,MAAM,EAAE,MAAM;IACdF,MAAM,EAAE;MACJY,aAAa,EAAEG,YAAY;MAC3BU,WAAW,EAAEL;IACjB,CAAC;IACDhB,IAAI,EAAEkB,QAAQ;IACdI,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}