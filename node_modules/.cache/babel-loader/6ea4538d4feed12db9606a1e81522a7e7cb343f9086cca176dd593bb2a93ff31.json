{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport request from '@/utils/request';\n\n// 获取入院评估列表\nexport function getAdmissionList(params) {\n  return request({\n    url: '/api/admission-assessment/list',\n    method: 'get',\n    params,\n    transformResponse: [function (data) {\n      const response = JSON.parse(data);\n      if (response.code === 200 && response.data && response.data.records) {\n        // 确保每条记录都有正确的ID\n        response.data.records = response.data.records.map(record => ({\n          ...record,\n          id: record.id || null\n        }));\n      }\n      return response;\n    }]\n  });\n}\n\n// 获取健康评估详情\nexport function getHealthAssessmentDetail(assessmentId) {\n  return request({\n    url: '/api/health-assessment/detail',\n    method: 'get',\n    params: {\n      assessmentId\n    }\n  });\n}\n\n// 提交健康评估\nexport function submitHealthAssessment(assessmentId, data) {\n  return request({\n    url: '/api/health-assessment/submit',\n    method: 'post',\n    params: {\n      assessment_id: assessmentId\n    },\n    data\n  });\n}\n\n// 获取照护评估详情\nexport function getCareAssessmentDetail(assessmentId) {\n  return request({\n    url: '/api/care-assessment/detail',\n    method: 'get',\n    params: {\n      assessment_id: assessmentId\n    }\n  });\n}\n\n// 提交照护评估\nexport function submitCareAssessment(assessmentId, data) {\n  return request({\n    url: '/api/care-assessment/submit',\n    method: 'post',\n    params: {\n      assessment_id: assessmentId\n    },\n    data\n  });\n}\n\n// 上传检查报告\nexport function uploadMedicalReport(assessmentId, reportType, file) {\n  const formData = new FormData();\n  formData.append('file', file);\n  return request({\n    url: '/api/medical-report/upload',\n    method: 'post',\n    params: {\n      assessment_id: assessmentId,\n      report_type: reportType\n    },\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n}","map":{"version":3,"names":["request","getAdmissionList","params","url","method","transformResponse","data","response","JSON","parse","code","records","map","record","id","getHealthAssessmentDetail","assessmentId","submitHealthAssessment","assessment_id","getCareAssessmentDetail","submitCareAssessment","uploadMedicalReport","reportType","file","formData","FormData","append","report_type","headers"],"sources":["/Users/seaocean/projects/test1/hospital/src/api/admission.js"],"sourcesContent":["import request from '@/utils/request'\n\n// 获取入院评估列表\nexport function getAdmissionList(params) {\n    return request({\n        url: '/api/admission-assessment/list',\n        method: 'get',\n        params,\n        transformResponse: [function (data) {\n            const response = JSON.parse(data)\n            if (response.code === 200 && response.data && response.data.records) {\n                // 确保每条记录都有正确的ID\n                response.data.records = response.data.records.map(record => ({\n                    ...record,\n                    id: record.id || null\n                }))\n            }\n            return response\n        }]\n    })\n}\n\n// 获取健康评估详情\nexport function getHealthAssessmentDetail(assessmentId) {\n    return request({\n        url: '/api/health-assessment/detail',\n        method: 'get',\n        params: { assessmentId }\n    })\n}\n\n// 提交健康评估\nexport function submitHealthAssessment(assessmentId, data) {\n    return request({\n        url: '/api/health-assessment/submit',\n        method: 'post',\n        params: { assessment_id: assessmentId },\n        data\n    })\n}\n\n// 获取照护评估详情\nexport function getCareAssessmentDetail(assessmentId) {\n    return request({\n        url: '/api/care-assessment/detail',\n        method: 'get',\n        params: { assessment_id: assessmentId }\n    })\n}\n\n// 提交照护评估\nexport function submitCareAssessment(assessmentId, data) {\n    return request({\n        url: '/api/care-assessment/submit',\n        method: 'post',\n        params: { assessment_id: assessmentId },\n        data\n    })\n}\n\n// 上传检查报告\nexport function uploadMedicalReport(assessmentId, reportType, file) {\n    const formData = new FormData()\n    formData.append('file', file)\n    return request({\n        url: '/api/medical-report/upload',\n        method: 'post',\n        params: {\n            assessment_id: assessmentId,\n            report_type: reportType\n        },\n        data: formData,\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    })\n} "],"mappings":";;AAAA,OAAOA,OAAO,MAAM,iBAAiB;;AAErC;AACA,OAAO,SAASC,gBAAgBA,CAACC,MAAM,EAAE;EACrC,OAAOF,OAAO,CAAC;IACXG,GAAG,EAAE,gCAAgC;IACrCC,MAAM,EAAE,KAAK;IACbF,MAAM;IACNG,iBAAiB,EAAE,CAAC,UAAUC,IAAI,EAAE;MAChC,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;MACjC,IAAIC,QAAQ,CAACG,IAAI,KAAK,GAAG,IAAIH,QAAQ,CAACD,IAAI,IAAIC,QAAQ,CAACD,IAAI,CAACK,OAAO,EAAE;QACjE;QACAJ,QAAQ,CAACD,IAAI,CAACK,OAAO,GAAGJ,QAAQ,CAACD,IAAI,CAACK,OAAO,CAACC,GAAG,CAACC,MAAM,KAAK;UACzD,GAAGA,MAAM;UACTC,EAAE,EAAED,MAAM,CAACC,EAAE,IAAI;QACrB,CAAC,CAAC,CAAC;MACP;MACA,OAAOP,QAAQ;IACnB,CAAC;EACL,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASQ,yBAAyBA,CAACC,YAAY,EAAE;EACpD,OAAOhB,OAAO,CAAC;IACXG,GAAG,EAAE,+BAA+B;IACpCC,MAAM,EAAE,KAAK;IACbF,MAAM,EAAE;MAAEc;IAAa;EAC3B,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASC,sBAAsBA,CAACD,YAAY,EAAEV,IAAI,EAAE;EACvD,OAAON,OAAO,CAAC;IACXG,GAAG,EAAE,+BAA+B;IACpCC,MAAM,EAAE,MAAM;IACdF,MAAM,EAAE;MAAEgB,aAAa,EAAEF;IAAa,CAAC;IACvCV;EACJ,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASa,uBAAuBA,CAACH,YAAY,EAAE;EAClD,OAAOhB,OAAO,CAAC;IACXG,GAAG,EAAE,6BAA6B;IAClCC,MAAM,EAAE,KAAK;IACbF,MAAM,EAAE;MAAEgB,aAAa,EAAEF;IAAa;EAC1C,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASI,oBAAoBA,CAACJ,YAAY,EAAEV,IAAI,EAAE;EACrD,OAAON,OAAO,CAAC;IACXG,GAAG,EAAE,6BAA6B;IAClCC,MAAM,EAAE,MAAM;IACdF,MAAM,EAAE;MAAEgB,aAAa,EAAEF;IAAa,CAAC;IACvCV;EACJ,CAAC,CAAC;AACN;;AAEA;AACA,OAAO,SAASe,mBAAmBA,CAACL,YAAY,EAAEM,UAAU,EAAEC,IAAI,EAAE;EAChE,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAC7B,OAAOvB,OAAO,CAAC;IACXG,GAAG,EAAE,4BAA4B;IACjCC,MAAM,EAAE,MAAM;IACdF,MAAM,EAAE;MACJgB,aAAa,EAAEF,YAAY;MAC3BW,WAAW,EAAEL;IACjB,CAAC;IACDhB,IAAI,EAAEkB,QAAQ;IACdI,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}