{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'MedicalOrderManagement',\n  data() {\n    return {\n      selectedPatient: null,\n      showPrintModal: false,\n      showDetailModal: false,\n      selectedOrder: null,\n      patients: [{\n        id: 1,\n        name: '李大爷',\n        gender: '男',\n        bed: '2201-01',\n        admissionNo: '122455478',\n        age: 86,\n        nursingLevel: '二级护理'\n      }, {\n        id: 2,\n        name: '李大爷',\n        gender: '男',\n        bed: '2021-02',\n        admissionNo: '122455478',\n        age: 76,\n        nursingLevel: '二级护理'\n      }, {\n        id: 3,\n        name: '史娥',\n        gender: '女',\n        bed: '2201-01',\n        admissionNo: '122455478',\n        age: 82,\n        nursingLevel: '一级护理'\n      }, {\n        id: 4,\n        name: '李大爷',\n        gender: '男',\n        bed: '2021-02',\n        admissionNo: '122455478',\n        age: 69,\n        nursingLevel: '二级护理'\n      }, {\n        id: 5,\n        name: '张三',\n        gender: '男',\n        bed: '2201-01',\n        admissionNo: '122455478',\n        age: 78,\n        nursingLevel: '二级护理'\n      }, {\n        id: 6,\n        name: '李大爷',\n        gender: '男',\n        bed: '2021-02',\n        admissionNo: '122455478',\n        age: 90,\n        nursingLevel: '二级护理'\n      }, {\n        id: 7,\n        name: '刘继斌',\n        gender: '男',\n        bed: '2201-01',\n        admissionNo: '122455478',\n        age: 81,\n        nursingLevel: '二级护理'\n      }, {\n        id: 8,\n        name: '李大爷',\n        gender: '男',\n        bed: '2021-02',\n        admissionNo: '122455478',\n        age: 73,\n        nursingLevel: '二级护理'\n      }, {\n        id: 9,\n        name: '李四',\n        gender: '男',\n        bed: '2201-01',\n        admissionNo: '122455478',\n        age: 81,\n        nursingLevel: '二级护理'\n      }, {\n        id: 10,\n        name: '李大爷',\n        gender: '男',\n        bed: '2021-02',\n        admissionNo: '122455478',\n        age: 65,\n        nursingLevel: '二级护理'\n      }],\n      medicalOrders: [{\n        id: '0002658',\n        date: '2024-05-16 12:56',\n        diagnosis: '高血压脑、冠心病',\n        treatment: '处方开药3种',\n        doctor: '王医生'\n      }, {\n        id: '0023566',\n        date: '2024-05-16 12:56',\n        diagnosis: '细菌性上呼吸道感染',\n        treatment: '处方开药3种',\n        doctor: '张医生'\n      }, {\n        id: '0002365',\n        date: '2024-05-16 12:56',\n        diagnosis: '甲型流感',\n        treatment: '其他',\n        doctor: 'XXXX'\n      }, {\n        id: '0050052',\n        date: '2024-05-16 12:56',\n        diagnosis: '糖尿病',\n        treatment: '其他',\n        doctor: 'XXXX',\n        disabled: true\n      }]\n    };\n  },\n  methods: {\n    selectPatient(patient) {\n      this.selectedPatient = patient;\n    },\n    invalidateOrder(order) {\n      if (confirm('确认作废此条记录？')) {\n        const index = this.medicalOrders.findIndex(o => o.id === order.id);\n        if (index !== -1) {\n          this.$set(this.medicalOrders[index], 'disabled', true);\n        }\n      }\n    },\n    printOrder(order) {\n      this.selectedOrder = order;\n      this.showPrintModal = true;\n    },\n    closePrintModal() {\n      this.showPrintModal = false;\n    },\n    doPrint(section) {\n      alert(`打印${section === 'left' ? '病历' : '处方'}功能已触发`);\n      this.closePrintModal();\n    },\n    viewOrderDetail(order) {\n      // 跳转到新的详情页面路由，传递订单 ID\n      this.$router.push({\n        name: 'PrescriptionDetail',\n        params: {\n          id: order.id\n        }\n      });\n    },\n    closeDetailModal() {\n      this.showDetailModal = false;\n    }\n  },\n  mounted() {\n    // 页面加载时不自动选择患者\n    this.selectedPatient = null;\n  }\n};","map":{"version":3,"names":["name","data","selectedPatient","showPrintModal","showDetailModal","selectedOrder","patients","id","gender","bed","admissionNo","age","nursingLevel","medicalOrders","date","diagnosis","treatment","doctor","disabled","methods","selectPatient","patient","invalidateOrder","order","confirm","index","findIndex","o","$set","printOrder","closePrintModal","doPrint","section","alert","viewOrderDetail","$router","push","params","closeDetailModal","mounted"],"sources":["src/views/MedicalOrderManagement.vue"],"sourcesContent":["<template>\n  <div class=\"medical-management-container\">\n    <div class=\"left-panel\">\n      <div class=\"search-header\">\n        <h3>选择就诊人</h3>\n        <div class=\"search-box\">\n          <select class=\"area-select\">\n            <option>全院区域</option>\n          </select>\n          <div class=\"search-input\">\n            <input type=\"text\" placeholder=\"姓名/入院编号\" />\n            <button class=\"search-btn\">\n              <i class=\"el-icon-search\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"patient-list\">\n        <table class=\"patient-table\">\n          <thead>\n            <tr>\n              <th>姓名/性别</th>\n              <th>床位</th>\n              <th>入院编号</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(patient, index) in patients\" :key=\"index\" @click=\"selectPatient(patient)\" :class=\"{ active: selectedPatient && selectedPatient.id === patient.id }\">\n              <td>\n                <div class=\"patient-name\">{{ patient.name }}</div>\n                <div class=\"patient-gender\">{{ patient.gender }}</div>\n              </td>\n              <td>{{ patient.bed }}</td>\n              <td>{{ patient.admissionNo }}</td>\n            </tr>\n          </tbody>\n        </table>\n        \n        <div class=\"pagination\">\n          <button class=\"page-btn\"><i class=\"el-icon-arrow-left\"></i></button>\n          <div class=\"page-numbers\">\n            <span class=\"page-number active\">1</span>\n            <span class=\"page-number\">2</span>\n            <span class=\"page-number\">3</span>\n            <span class=\"page-number\">4</span>\n            <span class=\"page-number\">5</span>\n          </div>\n          <button class=\"page-btn\"><i class=\"el-icon-arrow-right\"></i></button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"right-panel\">\n      <!-- 未选择病人状态 -->\n      <div v-if=\"!selectedPatient\" class=\"empty-state\">\n        <div class=\"tab-header\">\n          <div class=\"tab-item active\">\n            <i class=\"el-icon-document-checked\"></i> 病历处方\n          </div>\n          <div class=\"tab-item\">\n            <i class=\"el-icon-document\"></i> 病程记录\n          </div>\n        </div>\n        \n        <div class=\"empty-content\">\n          <div class=\"stethoscope-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#dcdfe6\">\n              <path d=\"M19 9.5c-1.4 0-2.5 1.1-2.5 2.5v3c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5v-1c0-.3.2-.5.5-.5s.5.2.5.5v1c0 .3.2.5.5.5s.5-.2.5-.5v-3c0-2.2 1.8-4 4-4s4 1.8 4 4v3c0 2.9-2.1 5.4-5 5.9V21c0 .6-.4 1-1 1s-1-.4-1-1v-.1c-2.9-.5-5-3-5-5.9v-1c0-.3.2-.5.5-.5s.5.2.5.5v1c0 2.5 2 4.5 4.5 4.5s4.5-2 4.5-4.5v-3c0-1.4-1.1-2.5-2.5-2.5zm-11 0c-1.4 0-2.5 1.1-2.5 2.5v.8c0 1.7-1.3 3.2-3 3.5V21c0 .6-.4 1-1 1s-1-.4-1-1v-4.7c-1.7-.3-3-1.7-3-3.5v-.8c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v.8c0 .3.2.5.5.5s.5-.2.5-.5v-.8c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v.8c0 .3.2.5.5.5s.5-.2.5-.5v-.8c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v.8c0 1.7-1.3 3.2-3 3.5V21c0 .6-.4 1-1 1s-1-.4-1-1v-4.7c-1.7-.3-3-1.7-3-3.5v-.8c0-1.4-1.1-2.5-2.5-2.5z\"/>\n            </svg>\n          </div>\n          <p class=\"empty-text\">← 点击左侧列表选择就诊人</p>\n        </div>\n      </div>\n      \n      <!-- 选择病人后状态 -->\n      <div v-else class=\"patient-details\">\n        <div class=\"patient-header\">\n          <div class=\"patient-avatar\">\n            <div class=\"avatar-text\">{{ selectedPatient.name.charAt(0) }}</div>\n          </div>\n          <div class=\"patient-info\">\n            <div class=\"patient-name-row\">\n              <span class=\"patient-name\">{{ selectedPatient.name }}</span>\n              <span class=\"patient-gender\">{{ selectedPatient.gender }}</span>\n              <span class=\"patient-age\">{{ selectedPatient.age }}岁</span>\n            </div>\n            <div class=\"patient-room\">\n              <span>床位: {{ selectedPatient.bed }}</span>\n              <span class=\"nursing-level\">\n                <i class=\"el-icon-star-on\"></i> {{ selectedPatient.nursingLevel }}\n              </span>\n            </div>\n          </div>\n          <div class=\"action-buttons\">\n            <button class=\"header-btn\">\n              <i class=\"el-icon-document-checked\"></i> 医嘱管理\n            </button>\n            <button class=\"header-btn\">\n              <i class=\"el-icon-tickets\"></i> 病程记录\n            </button>\n          </div>\n        </div>\n        \n        <div class=\"tab-header\">\n          <div class=\"tab-item active\">\n            <i class=\"el-icon-document-checked\"></i> 病历处方\n          </div>\n          <div class=\"tab-item\">\n            <i class=\"el-icon-document\"></i> 病程记录\n          </div>\n        </div>\n        \n        <div class=\"medical-orders\">\n          <div class=\"order-header\">\n            <div class=\"order-icon\">\n              <i class=\"el-icon-document-checked\"></i> 病历处方\n            </div>\n            <button class=\"new-order-btn\">\n              + 新开\n            </button>\n          </div>\n          \n          <div class=\"order-list\">\n            <table class=\"order-table\">\n              <thead>\n                <tr>\n                  <th>就诊号</th>\n                  <th>就诊日期</th>\n                  <th>诊断</th>\n                  <th>处置</th>\n                  <th>医生</th>\n                  <th>操作</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(order, index) in medicalOrders\" :key=\"index\" :class=\"{ 'disabled-row': order.disabled }\">\n                  <td>{{ order.id }}</td>\n                  <td>{{ order.date }}</td>\n                  <td>{{ order.diagnosis }}</td>\n                  <td>{{ order.treatment }}</td>\n                  <td>{{ order.doctor }}</td>\n                  <td class=\"operation-cell\">\n                    <button v-if=\"!order.disabled\" class=\"action-pill-btn view-btn\" title=\"查看\" @click=\"viewOrderDetail(order)\">查看</button>\n                    <button v-if=\"!order.disabled\" class=\"action-pill-btn print-btn\" title=\"打印\" @click=\"printOrder(order)\">打印</button>\n                    <button v-if=\"!order.disabled\" class=\"action-pill-btn delete-btn\" title=\"作废\" @click=\"invalidateOrder(order)\">作废</button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          \n          <div class=\"pagination\">\n            <button class=\"page-btn\"><i class=\"el-icon-arrow-left\"></i></button>\n            <div class=\"page-numbers\">\n              <span class=\"page-number active\">1</span>\n              <span class=\"page-number\">2</span>\n              <span class=\"page-number\">3</span>\n              <span class=\"page-number\">4</span>\n              <span class=\"page-number\">5</span>\n              <span class=\"page-number\">6</span>\n              <span class=\"page-number\">7</span>\n              <span class=\"page-number\">8</span>\n              <span class=\"page-number\">9</span>\n            </div>\n            <button class=\"page-btn\"><i class=\"el-icon-arrow-right\"></i></button>\n            <select class=\"page-size-select\">\n              <option>10条/页</option>\n              <option>20条/页</option>\n              <option>50条/页</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"guide-tips\">\n      <ol>\n        <li>在操作前请先选择（建议360~400）</li>\n        <li>干顶部特设高度</li>\n        <li>未列包括医生需立刻执行的办法，以及本面单独开具的医嘱</li>\n        <li>一份就诊记录（病历/处方）包含柳体与处方两部分，PC 开跨此时处方为病历科常用的方</li>\n        <li>一旦片上医嘱参与，都不可能重新生成处方；一旦写方完成，都不可再更抱内容</li>\n        <li>一旦打开病历，则不可再共享病历内容</li>\n        <li>========================</li>\n        <li>功能说明：点击生成处方的新能，便后PC端打印处方单，医生PAD端无手写样本</li>\n      </ol>\n    </div>\n    \n    <!-- 打印预览模态框 -->\n    <div v-if=\"showPrintModal\" class=\"print-modal-backdrop\" @click=\"closePrintModal\">\n      <div class=\"print-modal\" @click.stop>\n        <div class=\"print-modal-header\">\n          <h3>打印病历与处方</h3>\n          <button class=\"close-btn\" @click=\"closePrintModal\">×</button>\n        </div>\n        <div class=\"print-modal-content\" id=\"print-area\">\n          <!-- 左右非对称打印预览区域 -->\n          <div class=\"print-preview-asymmetric-container\">\n            <!-- 左侧病历 -->\n            <div class=\"print-column medical-record-column\">\n                <div class=\"record-header\">\n                    <span class=\"record-date\">2024年 6月 18日</span>\n                    <span class=\"record-institution\">XX机构</span>\n                </div>\n                <div class=\"record-section\">\n                    <span class=\"record-label\">主诉:</span>\n                    <span class=\"record-content\">头晕1个月，加重3天</span>\n                </div>\n                <div class=\"record-section\">\n                    <span class=\"record-label\">现病史:</span>\n                    <span class=\"record-content\">患者1个月前无明显诱因出现头晕头痛，休息后自行缓解，近3天头晕加重，视物旋转，无法正常行走。</span>\n                </div>\n                <div class=\"record-section\">\n                    <span class=\"record-label\">既往史:</span>\n                    <span class=\"record-content\">既往体质一般，否认\"肝炎\"\"结核\"等传染病史，无外伤史。</span>\n                </div>\n                 <div class=\"record-section\">\n                    <span class=\"record-label\">体检:</span>\n                    <span class=\"record-content\">T 36.8℃ P 88次/分 R 24次/分 BP 158/106mmHg 神清合作,唇不发绀,双肺呼吸音清晰无罗音。心率齐,心音可,无杂音。腹部平软无压痛反跳痛，肝脾未及。</span>\n                </div>\n                 <div class=\"record-section\">\n                    <span class=\"record-label\">辅助检查:</span>\n                    <span class=\"record-content\">空腹血糖：5.5mmol/L，心电图：正常</span>\n                </div>\n                 <div class=\"record-section\">\n                    <span class=\"record-label\">诊断:</span>\n                    <span class=\"record-content\">原发性高血压病 III 级</span>\n                </div>\n                 <div class=\"record-section\">\n                    <span class=\"record-label\">处理:</span>\n                    <div class=\"record-treatment-content\">\n                        <div>① 阿莫西林胶囊 0.25g*24粒/盒 共2盒，0.5g 口服 每天3次</div>\n                        <div>② 0.9%葡萄糖注射液 5%×250ml/袋 共2袋， 250ml</div>\n                        <div style=\"padding-left: 20px;\">头孢硫脒 2ml:0.1g*10支/盒 共2支， 0.2g</div>\n                        <div style=\"padding-left: 20px;\">胞磷胆碱钠注射液 250mg/2ml×5支/盒 共2支， 250mg</div>\n                        <div style=\"padding-left: 20px;\">sig: 静脉滴注 每天1次</div>\n                        <div>③ (兴元君) 盐酸曲美胶囊 0.25g*24粒/盒 共2盒， 0.5g 口服 每天3次</div>\n                    </div>\n                </div>\n                <div class=\"record-signature\">\n                    <span>医师签名:</span>\n                    <span>张医生</span>\n                </div>\n            </div>\n\n            <!-- 右侧处方笺 -->\n            <div class=\"print-column prescription-column\">\n              <div class=\"print-header-unified\">\n                <div class=\"hospital-name\">上海XX机构处方笺</div>\n                <div class=\"prescription-number\">No. {{ selectedOrder ? selectedOrder.id : '0051258' }}</div>\n                <button class=\"sound-btn-print\" title=\"语音\"><i class=\"el-icon-microphone\"></i></button>\n              </div>\n              <div class=\"patient-info-print\">\n                  <span>姓名: 尹小二</span>\n                  <span>性别: 男</span>\n                  <span>年龄: 88</span>\n                  <span>入院号: F10245</span>\n                  <span>床位: 2203-3</span>\n                  <span>科别:</span>\n                  <span>费别: 医保</span>\n                  <span>医保号: 310652122342</span>\n                  <span>日期: 2024-05-16</span>\n              </div>\n              <div class=\"diagnosis-print\">\n                <span>诊断: 高血压病 III级，上呼吸道感染</span>\n              </div>\n              <div class=\"prescription-content-print\">\n                <div class=\"rx-title-print\">R<span class=\"rx-sub\">x:</span></div>\n                <div class=\"medication-list-print\">\n                  <!-- 药品列表 -->\n                 <div class=\"medication-item-print\">\n                    <span class=\"med-number\">①</span> \n                    <span class=\"med-name\">0.9%氯化钠注射液</span>\n                    <span class=\"med-spec\">250ml*1瓶/盒</span>\n                    <span class=\"med-dose\">250ml</span>\n                    <span class=\"med-qty\">x 2瓶</span>\n                  </div>\n                  <div class=\"medication-item-print\">\n                      <span class=\"med-number\"></span>\n                      <span class=\"med-name\">0.15g青霉素</span>\n                      <span class=\"med-spec\">0.15g*6支/盒</span>\n                      <span class=\"med-dose\">0.3g</span>\n                      <span class=\"med-qty\">x 2盒</span>\n                   </div>\n                   <div class=\"medication-item-print\">\n                      <span class=\"med-number\"></span>\n                      <span class=\"med-name\">10%葡萄糖注射液</span>\n                      <span class=\"med-spec\">0.25g*2支/盒</span>\n                      <span class=\"med-dose\">0.5g</span>\n                      <span class=\"med-qty\">x 2盒</span>\n                  </div>\n                   <div class=\"medication-sig-print\"><span>Sig:</span> 静脉滴注 每天1次 40滴/分 x2天</div>\n                  <div class=\"medication-item-print\">\n                    <span class=\"med-number\">②</span> \n                    <span class=\"med-name\">(阿莫仙)阿莫西林胶囊</span>\n                    <span class=\"med-spec\">0.25mg*20粒/盒</span>\n                    <span class=\"med-dose\"><span class=\"tag-self\">自备</span></span>\n                    <span class=\"med-qty\">x 2盒</span>\n                  </div>\n                  <div class=\"medication-sig-print\"><span>Sig:</span> 0.5g 口服 每天2次 上午 空腹服 X7天</div>\n                  <div class=\"medication-item-print\">\n                    <span class=\"med-number\">③</span> \n                    <span class=\"med-name\">复方葡萄糖酸钙口服溶液</span>\n                    <span class=\"med-spec\">10ml*20支/盒</span>\n                    <span class=\"med-dose\"></span>\n                    <span class=\"med-qty\">x 2瓶</span>\n                  </div>\n                   <div class=\"medication-sig-print\"><span>Sig:</span> 2支 口服 每天2次 X3天</div>\n                  <!-- 药品列表结束 -->\n                </div>\n                <div class=\"page-footer-print\">以下空白</div>\n              </div>\n              <div class=\"print-footer-fields\">\n                <span>审核/调配:</span>\n                <span>核对/发药:</span>\n                <span>医师:</span>\n                <span>金额:</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"print-modal-footer\">\n          <button class=\"print-btn-large\" @click=\"doPrint('record')\"><i class=\"el-icon-printer\"></i> 打印病历</button>\n          <button class=\"print-btn-large\" @click=\"doPrint('prescription')\"><i class=\"el-icon-printer\"></i> 打印处方</button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 查看详情对话框 -->\n    <div v-if=\"showDetailModal\" class=\"detail-modal-backdrop\" @click=\"closeDetailModal\">\n      <div class=\"detail-modal\" @click.stop>\n        <div class=\"detail-modal-header\">\n          <div class=\"tabs\">\n            <span class=\"tab active\">电子处方</span>\n            <span class=\"tab\">电子病历</span>\n          </div>\n          <button class=\"close-btn\" @click=\"closeDetailModal\" title=\"关闭\">×</button>\n        </div>\n        <div class=\"detail-modal-content\">\n          <div class=\"detail-patient-info\">\n            <div class=\"info-header\">\n              <span class=\"patient-name-detail\">王大爷</span>\n              <span class=\"patient-gender-detail\">男</span>\n              <span class=\"patient-age-detail\">86周岁</span>\n              <span class=\"patient-bed-detail\">床位 <span class=\"value\">2206-5</span></span>\n              <span class=\"patient-admission-detail\">入院编号 <span class=\"value\">20240506124</span></span>\n              <span class=\"patient-category-detail\">类别 <span class=\"value\">医保</span></span>\n              <span class=\"patient-card-detail\">医保卡号 <span class=\"value\">D053252131</span></span>\n              <span class=\"patient-department-detail\">科别</span>\n              <span class=\"patient-visit-date-detail\">就诊日期 <span class=\"value\">2024-05-12</span></span>\n            </div>\n            <div class=\"info-diagnosis\">\n              <span class=\"label\">临床诊断:</span>\n              <span class=\"value\">头晕痛，颈椎病</span>\n            </div>\n            <div class=\"info-allergies\">\n              <span class=\"label\">过敏史:</span>\n              <span class=\"value allergies\">青霉素、头孢、先锋类</span>\n            </div>\n            <div class=\"action-buttons-detail\">\n              <button class=\"btn-modify\">修改</button>\n              <button class=\"btn-print-detail\">打印处方</button>\n            </div>\n          </div>\n          <div class=\"prescription-table-detail\">\n            <table>\n              <thead>\n                <tr>\n                  <th>组号</th>\n                  <th>内容</th>\n                  <th>规格</th>\n                  <th>单次剂量</th>\n                  <th>用法</th>\n                  <th>频率</th>\n                  <th>给药时间</th>\n                  <th>天数</th>\n                  <th>总量</th>\n                  <th>来源</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td>1</td>\n                  <td>阿司匹林肠溶片</td>\n                  <td>0.25g*20粒/盒</td>\n                  <td>0.25g</td>\n                  <td>口服(po)</td>\n                  <td>每天1次(qd)</td>\n                  <td>睡前(hs)</td>\n                  <td>4</td>\n                  <td>3盒</td>\n                  <td>内服</td>\n                </tr>\n                <tr>\n                  <td>2</td>\n                  <td>(维他命c)维生素C</td>\n                  <td>10ml*5支/盒</td>\n                  <td>10ml</td>\n                  <td>外用</td>\n                  <td>每天3次(tid)</td>\n                  <td></td>\n                  <td>7</td>\n                  <td>3瓶</td>\n                  <td>自开</td>\n                </tr>\n                <tr>\n                  <td>3</td>\n                  <td>0.9%氯化钠注射液</td>\n                  <td>500ml*1瓶/盒</td>\n                  <td>0.25g</td>\n                  <td>静脉滴注(ivdrip)</td>\n                  <td>每天1次(qd)</td>\n                  <td></td>\n                  <td>3</td>\n                  <td>1盒</td>\n                  <td>内服</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'MedicalOrderManagement',\n  data() {\n    return {\n      selectedPatient: null,\n      showPrintModal: false,\n      showDetailModal: false,\n      selectedOrder: null,\n      patients: [\n        { id: 1, name: '李大爷', gender: '男', bed: '2201-01', admissionNo: '122455478', age: 86, nursingLevel: '二级护理' },\n        { id: 2, name: '李大爷', gender: '男', bed: '2021-02', admissionNo: '122455478', age: 76, nursingLevel: '二级护理' },\n        { id: 3, name: '史娥', gender: '女', bed: '2201-01', admissionNo: '122455478', age: 82, nursingLevel: '一级护理' },\n        { id: 4, name: '李大爷', gender: '男', bed: '2021-02', admissionNo: '122455478', age: 69, nursingLevel: '二级护理' },\n        { id: 5, name: '张三', gender: '男', bed: '2201-01', admissionNo: '122455478', age: 78, nursingLevel: '二级护理' },\n        { id: 6, name: '李大爷', gender: '男', bed: '2021-02', admissionNo: '122455478', age: 90, nursingLevel: '二级护理' },\n        { id: 7, name: '刘继斌', gender: '男', bed: '2201-01', admissionNo: '122455478', age: 81, nursingLevel: '二级护理' },\n        { id: 8, name: '李大爷', gender: '男', bed: '2021-02', admissionNo: '122455478', age: 73, nursingLevel: '二级护理' },\n        { id: 9, name: '李四', gender: '男', bed: '2201-01', admissionNo: '122455478', age: 81, nursingLevel: '二级护理' },\n        { id: 10, name: '李大爷', gender: '男', bed: '2021-02', admissionNo: '122455478', age: 65, nursingLevel: '二级护理' }\n      ],\n      medicalOrders: [\n        { id: '0002658', date: '2024-05-16 12:56', diagnosis: '高血压脑、冠心病', treatment: '处方开药3种', doctor: '王医生' },\n        { id: '0023566', date: '2024-05-16 12:56', diagnosis: '细菌性上呼吸道感染', treatment: '处方开药3种', doctor: '张医生' },\n        { id: '0002365', date: '2024-05-16 12:56', diagnosis: '甲型流感', treatment: '其他', doctor: 'XXXX' },\n        { id: '0050052', date: '2024-05-16 12:56', diagnosis: '糖尿病', treatment: '其他', doctor: 'XXXX', disabled: true }\n      ]\n    };\n  },\n  methods: {\n    selectPatient(patient) {\n      this.selectedPatient = patient;\n    },\n    invalidateOrder(order) {\n      if (confirm('确认作废此条记录？')) {\n        const index = this.medicalOrders.findIndex(o => o.id === order.id);\n        if (index !== -1) {\n          this.$set(this.medicalOrders[index], 'disabled', true);\n        }\n      }\n    },\n    printOrder(order) {\n      this.selectedOrder = order;\n      this.showPrintModal = true;\n    },\n    closePrintModal() {\n      this.showPrintModal = false;\n    },\n    doPrint(section) {\n      alert(`打印${section === 'left' ? '病历' : '处方'}功能已触发`);\n      this.closePrintModal();\n    },\n    viewOrderDetail(order) {\n      // 跳转到新的详情页面路由，传递订单 ID\n      this.$router.push({ name: 'PrescriptionDetail', params: { id: order.id } });\n    },\n    closeDetailModal() {\n      this.showDetailModal = false;\n    }\n  },\n  mounted() {\n    // 页面加载时不自动选择患者\n    this.selectedPatient = null;\n  }\n};\n</script>\n\n<style scoped>\n.medical-management-container {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 20px;\n  background-color: #f5f7fa;\n  min-height: calc(100vh - 60px);\n}\n\n.left-panel {\n  width: 300px;\n  margin-right: 20px;\n  background-color: white;\n  border-radius: 4px;\n  overflow: hidden;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.search-header {\n  padding: 15px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.search-header h3 {\n  margin: 0 0 15px 0;\n  font-size: 16px;\n  color: #333;\n}\n\n.search-box {\n  display: flex;\n  margin-bottom: 10px;\n}\n\n.area-select {\n  padding: 8px;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  margin-right: 10px;\n  flex: 1;\n}\n\n.search-input {\n  display: flex;\n  flex: 2;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.search-input input {\n  flex: 1;\n  border: none;\n  padding: 8px;\n  outline: none;\n}\n\n.search-btn {\n  width: 34px;\n  background-color: white;\n  border: none;\n  border-left: 1px solid #dcdfe6;\n  cursor: pointer;\n}\n\n.patient-list {\n  height: calc(100vh - 180px);\n  overflow-y: auto;\n}\n\n.patient-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.patient-table th {\n  padding: 12px 8px;\n  background-color: #f5f7fa;\n  font-weight: normal;\n  text-align: left;\n  color: #909399;\n}\n\n.patient-table td {\n  padding: 12px 8px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.patient-table tr:hover {\n  background-color: #f5f7fa;\n  cursor: pointer;\n}\n\n.patient-table tr.active {\n  background-color: #ecf5ff;\n}\n\n.patient-name {\n  font-weight: 500;\n  color: #303133;\n}\n\n.patient-gender {\n  color: #909399;\n  font-size: 12px;\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  padding: 15px 0;\n  align-items: center;\n}\n\n.page-btn {\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #dcdfe6;\n  background-color: white;\n  color: #606266;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.page-numbers {\n  display: flex;\n  margin: 0 5px;\n}\n\n.page-number {\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 2px;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.page-number:hover {\n  background-color: #f5f5f5;\n}\n\n.page-number.active {\n  background-color: #409eff;\n  color: white;\n}\n\n.page-size-select {\n  margin-left: 10px;\n  padding: 5px;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n}\n\n.right-panel {\n  flex: 1;\n  min-width: 500px;\n  background-color: white;\n  border-radius: 4px;\n  overflow: hidden;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.tab-header {\n  display: flex;\n  background-color: #f5f7fa;\n  border-bottom: 1px solid #e4e7ed;\n}\n\n.tab-item {\n  padding: 12px 20px;\n  font-size: 14px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n\n.tab-item i {\n  margin-right: 5px;\n}\n\n.tab-item.active {\n  color: #409eff;\n  border-bottom: 2px solid #409eff;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.empty-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 100px 0;\n}\n\n.stethoscope-icon {\n  margin-bottom: 20px;\n  width: 100px;\n  height: 100px;\n}\n\n.stethoscope-icon svg {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n}\n\n.empty-text {\n  color: #909399;\n  font-size: 16px;\n}\n\n.patient-details {\n  height: 100%;\n}\n\n.patient-header {\n  padding: 15px 20px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.patient-avatar {\n  width: 50px;\n  height: 50px;\n  background-color: #409eff;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 15px;\n}\n\n.avatar-text {\n  color: white;\n  font-size: 20px;\n  font-weight: bold;\n}\n\n.patient-info {\n  flex: 1;\n}\n\n.patient-name-row {\n  margin-bottom: 5px;\n}\n\n.patient-name {\n  font-size: 16px;\n  font-weight: 500;\n  margin-right: 10px;\n}\n\n.patient-gender, .patient-age {\n  font-size: 14px;\n  color: #606266;\n  margin-right: 10px;\n}\n\n.patient-room {\n  font-size: 14px;\n  color: #606266;\n}\n\n.nursing-level {\n  margin-left: 15px;\n  color: #e6a23c;\n}\n\n.action-buttons {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-top: 10px;\n}\n\n.header-btn {\n  background-color: #409eff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 15px;\n  cursor: pointer;\n  margin-left: 10px;\n}\n\n.medical-orders {\n  padding: 15px 20px;\n}\n\n.order-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.order-icon {\n  font-size: 16px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n}\n\n.order-icon i {\n  margin-right: 5px;\n  color: #409eff;\n}\n\n.new-order-btn {\n  background-color: #409eff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 15px;\n  cursor: pointer;\n}\n\n.order-list {\n  margin-bottom: 15px;\n}\n\n.order-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.order-table th {\n  padding: 12px 8px;\n  background-color: #f5f7fa;\n  text-align: left;\n  font-weight: normal;\n  color: #909399;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.order-table td {\n  padding: 12px 8px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.order-table tr.disabled-row {\n  color: #c0c4cc;\n  text-decoration: line-through;\n}\n\n.operation-cell {\n  white-space: nowrap;\n  padding: 0 8px;\n  min-width: 120px;\n  text-align: center;\n}\n\n.action-pill-btn {\n  display: inline-block;\n  border: none;\n  border-radius: 20px;\n  padding: 3px 8px;\n  font-size: 12px;\n  cursor: pointer;\n  margin: 0 2px;\n  min-width: 36px;\n  line-height: 1.5;\n}\n\n.action-pill-btn.view-btn {\n  background-color: #409eff;\n  color: white;\n}\n\n.action-pill-btn.print-btn {\n  background-color: #67c23a;\n  color: white;\n}\n\n.action-pill-btn.delete-btn {\n  background-color: #f56c6c;\n  color: white;\n}\n\n.guide-tips {\n  width: 100%;\n  margin-top: 20px;\n  background-color: #fffbe6;\n  border: 1px solid #ffe58f;\n  padding: 15px 20px;\n  border-radius: 4px;\n}\n\n.guide-tips ol {\n  padding-left: 20px;\n  margin: 0;\n}\n\n.guide-tips li {\n  color: #8c6e2d;\n  margin-bottom: 5px;\n  font-size: 14px;\n}\n\n.print-modal-backdrop, .detail-modal-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n}\n\n.print-modal, .detail-modal {\n  background-color: white;\n  border-radius: 4px;\n  width: 90%;\n  max-width: 1200px;\n  max-height: 90vh;\n  overflow-y: auto;\n}\n\n.print-modal-header, .detail-modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px 20px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.print-modal-header h3, .detail-modal-header h3 {\n  margin: 0;\n  font-size: 18px;\n  color: #333;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n  color: #909399;\n  line-height: 1;\n}\n\n.close-btn:hover {\n  color: #f56c6c;\n}\n\n.print-modal-content, .detail-modal-content {\n  padding: 20px;\n}\n\n.print-modal-footer {\n  display: flex;\n  justify-content: center;\n  padding: 15px 20px;\n  border-top: 1px solid #ebeef5;\n}\n\n.print-btn-large {\n  background-color: #409eff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 20px;\n  cursor: pointer;\n  margin: 0 10px;\n  font-size: 14px;\n}\n\n.print-btn-large:hover {\n  opacity: 0.8;\n}\n\n.detail-modal-header .tabs {\n  display: flex;\n  gap: 10px;\n}\n\n.detail-modal-header .tab {\n  padding: 8px 15px;\n  cursor: pointer;\n  border-bottom: 2px solid transparent;\n  font-size: 16px;\n}\n\n.detail-modal-header .tab.active {\n  border-bottom-color: #409eff;\n  color: #409eff;\n  font-weight: bold;\n}\n\n.detail-patient-info {\n  background-color: #f5f7fa;\n  padding: 15px;\n  margin-bottom: 20px;\n  border-radius: 4px;\n}\n\n.info-header {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n  margin-bottom: 15px;\n}\n\n.info-header span {\n  font-size: 14px;\n  color: #606266;\n}\n\n.info-header .value {\n  color: #303133;\n  font-weight: bold;\n}\n\n.patient-name-detail {\n  font-size: 18px !important;\n  font-weight: bold;\n  color: #303133 !important;\n}\n\n.info-diagnosis, .info-allergies {\n  margin-bottom: 10px;\n}\n\n.info-diagnosis .label, .info-allergies .label {\n  font-weight: bold;\n  margin-right: 5px;\n}\n\n.info-allergies .allergies {\n  color: red;\n}\n\n.action-buttons-detail {\n  margin-top: 15px;\n  text-align: right;\n}\n\n.action-buttons-detail button {\n  padding: 8px 15px;\n  border-radius: 4px;\n  border: none;\n  cursor: pointer;\n  margin-left: 10px;\n  font-size: 14px;\n}\n\n.btn-modify {\n  background-color: #e6a23c;\n  color: white;\n}\n\n.btn-print-detail {\n  background-color: #409eff;\n  color: white;\n}\n\n.prescription-table-detail table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.prescription-table-detail th,\n.prescription-table-detail td {\n  border: 1px solid #ebeef5;\n  padding: 10px 8px;\n  text-align: left;\n  font-size: 13px;\n}\n\n.prescription-table-detail th {\n  background-color: #f5f7fa;\n  color: #909399;\n  font-weight: normal;\n}\n\n.print-preview-asymmetric-container {\n  display: flex;\n  gap: 30px;\n}\n\n.print-column {\n  flex: 1;\n  border: 1px solid #ccc;\n  padding: 20px;\n  position: relative;\n  min-height: 600px;\n  display: flex;\n  flex-direction: column;\n  font-family: 'SimSun', '宋体', serif;\n  color: #000;\n}\n\n.record-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  font-size: 14px;\n}\n\n.record-section {\n  margin-bottom: 15px;\n}\n\n.record-label {\n  font-weight: bold;\n  margin-right: 5px;\n}\n\n.record-treatment-content {\n    padding-left: 1.5em;\n}\n\n.record-signature {\n  margin-top: auto;\n  padding-top: 20px;\n  text-align: right;\n  font-size: 14px;\n}\n\n.print-preview-symmetric-container {\n    display: none !important;\n}\n\n.print-footer-fields {\n  position: relative;\n  margin-top: auto;\n  padding-top: 15px;\n  border-top: 1px solid #000;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 10px 20px;\n  font-size: 13px;\n  color: #000;\n}\n\n.print-preview-unified,\n.medical-record-section {\n    display: none !important;\n}\n\n.prescription-content-print {\n  margin-top: 10px;\n  position: relative;\n  flex-grow: 1;\n  padding-bottom: 60px;\n}\n\n.print-header-unified {\n  text-align: center;\n  position: relative;\n  margin-bottom: 15px;\n}\n\n.hospital-name {\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n.prescription-number {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 14px;\n}\n\n.sound-btn-print {\n  position: absolute;\n  top: 0;\n  right: 80px;\n  background: #eee;\n  border: 1px solid #ccc;\n  border-radius: 50%;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #666;\n}\n\n.sound-btn-print:hover {\n  background: #ddd;\n}\n\n.patient-info-print {\n  display: grid;\n  grid-template-columns: repeat(5, auto);\n  gap: 5px 15px;\n  font-size: 13px;\n  margin-bottom: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #000;\n}\n\n.diagnosis-print {\n  font-size: 13px;\n  margin-bottom: 15px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #000;\n}\n\n.rx-title-print {\n  font-family: 'Times New Roman', Times, serif;\n  font-size: 32px;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.rx-sub {\n  font-size: 20px;\n  vertical-align: baseline;\n}\n\n.medication-list-print {\n  margin-top: 5px;\n}\n\n.medication-item-print {\n  display: grid;\n  grid-template-columns: 30px 2fr 1fr 1fr 1fr;\n  gap: 5px 10px;\n  margin-bottom: 5px;\n  font-size: 14px;\n}\n\n.med-number {\n  font-weight: bold;\n}\n\n.tag-self {\n  border: 1px solid #000;\n  padding: 1px 3px;\n  font-size: 10px;\n  border-radius: 2px;\n}\n\n.medication-sig-print {\n  margin-left: 30px;\n  font-size: 14px;\n  margin-bottom: 15px;\n}\n\n.medication-sig-print span {\n    font-weight: bold;\n    margin-right: 5px;\n}\n\n.page-footer-print {\n  text-align: center;\n  margin-top: 20px;\n  padding-top: 10px;\n  border-top: 1px dashed #ccc;\n  color: #666;\n  font-size: 13px;\n}\n\n.print-btn-large i {\n    margin-right: 5px;\n}\n</style> "],"mappings":";AA4aA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,eAAA;MACAC,cAAA;MACAC,eAAA;MACAC,aAAA;MACAC,QAAA,GACA;QAAAC,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,GACA;QAAAL,EAAA;QAAAP,IAAA;QAAAQ,MAAA;QAAAC,GAAA;QAAAC,WAAA;QAAAC,GAAA;QAAAC,YAAA;MAAA,EACA;MACAC,aAAA,GACA;QAAAN,EAAA;QAAAO,IAAA;QAAAC,SAAA;QAAAC,SAAA;QAAAC,MAAA;MAAA,GACA;QAAAV,EAAA;QAAAO,IAAA;QAAAC,SAAA;QAAAC,SAAA;QAAAC,MAAA;MAAA,GACA;QAAAV,EAAA;QAAAO,IAAA;QAAAC,SAAA;QAAAC,SAAA;QAAAC,MAAA;MAAA,GACA;QAAAV,EAAA;QAAAO,IAAA;QAAAC,SAAA;QAAAC,SAAA;QAAAC,MAAA;QAAAC,QAAA;MAAA;IAEA;EACA;EACAC,OAAA;IACAC,cAAAC,OAAA;MACA,KAAAnB,eAAA,GAAAmB,OAAA;IACA;IACAC,gBAAAC,KAAA;MACA,IAAAC,OAAA;QACA,MAAAC,KAAA,QAAAZ,aAAA,CAAAa,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAApB,EAAA,KAAAgB,KAAA,CAAAhB,EAAA;QACA,IAAAkB,KAAA;UACA,KAAAG,IAAA,MAAAf,aAAA,CAAAY,KAAA;QACA;MACA;IACA;IACAI,WAAAN,KAAA;MACA,KAAAlB,aAAA,GAAAkB,KAAA;MACA,KAAApB,cAAA;IACA;IACA2B,gBAAA;MACA,KAAA3B,cAAA;IACA;IACA4B,QAAAC,OAAA;MACAC,KAAA,MAAAD,OAAA;MACA,KAAAF,eAAA;IACA;IACAI,gBAAAX,KAAA;MACA;MACA,KAAAY,OAAA,CAAAC,IAAA;QAAApC,IAAA;QAAAqC,MAAA;UAAA9B,EAAA,EAAAgB,KAAA,CAAAhB;QAAA;MAAA;IACA;IACA+B,iBAAA;MACA,KAAAlC,eAAA;IACA;EACA;EACAmC,QAAA;IACA;IACA,KAAArC,eAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}